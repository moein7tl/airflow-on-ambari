<?xml version="1.0"?>
<metainfo>
	<schemaVersion>2.0</schemaVersion>
	<services>
		<service>
			<name>AIRFLOW</name>
			<displayName>Airflow</displayName>
			<comment>Airflow is a platform to programmatically author, schedule and monitor workflow.</comment>
			<version>1.10.9</version>
			<components>
				<component>
					<name>AIRFLOW_WEBSERVER</name>
					<displayName>Airflow Webserver</displayName>
					<category>MASTER</category>
					<cardinality>1</cardinality>
					<commandScript>
						<script>scripts/airflow_webserver.py</script>
						<scriptType>PYTHON</scriptType>
						<timeout>1200</timeout>
					</commandScript>
				</component>
				<component>
					<name>AIRFLOW_SCHEDULER</name>
					<displayName>Airflow Scheduler</displayName>
					<category>MASTER</category>
					<cardinality>1</cardinality>
					<commandScript>
						<script>scripts/airflow_scheduler.py</script>
						<scriptType>PYTHON</scriptType>
						<timeout>1200</timeout>
					</commandScript>
				</component>
				<component>
					<name>AIRFLOW_WORKER</name>
					<displayName>Airflow Worker</displayName>
					<category>SLAVE</category>
					<cardinality>1+</cardinality>
					<commandScript>
						<script>scripts/airflow_worker.py</script>
						<scriptType>PYTHON</scriptType>
						<timeout>1200</timeout>
					</commandScript>
				</component>
			</components>

			<osSpecifics>
				<osSpecific>
					<osFamily>debian8,ubuntu16,ubuntu18</osFamily>
					<packages>
						<package><name>freetds-dev</name></package>
        				<package><name>libkrb5-dev</name></package>
        				<package><name>libsasl2-dev</name></package>
        				<package><name>libssl-dev</name></package>
        				<package><name>libffi-dev</name></package>
        				<package><name>libpq-dev</name></package>
        				<package><name>git</name></package>
						<package><name>freetds-bin</name></package>
        				<package><name>build-essential</name></package>
        				<package><name>default-libmysqlclient-dev</name></package>
        				<package><name>apt-utils</name></package>
        				<package><name>curl</name></package>
        				<package><name>rsync</name></package>
        				<package><name>netcat</name></package>
        				<package><name>locales</name></package>
						<package><name>python3-dev</name></package>
						<package><name>python3-pip</name></package>
					</packages>
				</osSpecific>
			</osSpecifics>
			<configuration-dependencies>
				<config-type>airflow-admin-site</config-type>
				<config-type>airflow-api-site</config-type>
				<config-type>airflow-celery-site</config-type>
				<config-type>airflow-cli-site</config-type>
				<config-type>airflow-core-site</config-type>
				<config-type>airflow-dask-site</config-type>
				<config-type>airflow-debug-site</config-type>
				<config-type>airflow-email-site</config-type>
				<config-type>airflow-githubenterprise-site</config-type>
				<config-type>airflow-kerberos-site</config-type>
				<config-type>airflow-ldap-site</config-type>
				<config-type>airflow-mesos-site</config-type>
				<config-type>airflow-operators-site</config-type>
				<config-type>airflow-scheduler-site</config-type>
				<config-type>airflow-sentry-site</config-type>
				<config-type>airflow-smtp-site</config-type>
				<config-type>airflow-webserver-site</config-type>
				<config-type>airflow-lineage-site</config-type>
				<config-type>airflow-atlas-site</config-type>
				<config-type>airflow-hive-site</config-type>
				<config-type>airflow-celerybrokertransportoptions-site</config-type>
				<config-type>airflow-elasticsearch-site</config-type>
				<config-type>airflow-elasticsearchconfigs-site</config-type>
				<config-type>airflow-kubernetes-site</config-type>
				<config-type>airflow-kubernetessecrets-site</config-type>
				<config-type>airflow-kubernetesannotations-site</config-type>
				<config-type>airflow-kubernetesenvironmentvariables-site</config-type>
				<config-type>airflow-kuberneteslabels-site</config-type>
			</configuration-dependencies>
			<restartRequiredAfterChange>true</restartRequiredAfterChange>

			<quickLinksConfigurations>
				<quickLinksConfiguration>
					<fileName>quicklinks.json</fileName>
					<default>true</default>
				</quickLinksConfiguration>
			</quickLinksConfigurations>
		</service>
	</services>
</metainfo>